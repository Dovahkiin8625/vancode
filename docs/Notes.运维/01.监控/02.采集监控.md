---
title: 采集监控
date: 2022-08-29 14:38:52
permalink: /pages/5fe32c/
categories:
  - 运维
  - 监控
tags:
  - 
---
# 采集监控

## 集团端

集团端监控页面总览集团端的集群和组件运行状况以及边缘侧概要监控信息.包括中心云服务器硬件信息(CPU、内存、磁盘)，`MySql`、`TDengine`、`EMQX`、`Redis`等组件的运行状况，k8s集群的节点运行状况、边缘侧网关在线情况、边缘侧资源、边缘侧负载、边缘侧采集过程的总览。

![image-20220829150835707](http://47.105.133.117:9001/typora/20220829150836.png)

### 中心云监控

中心云监控包括中心云集群服务器的CPU监控信息(总核数、总负载)，内存信息（总内存、内存占用），磁盘信息（总磁盘容量、总站用）

![image-20220829144555009](http://47.105.133.117:9001/typora/20220829144558.png)

### 组件监控

组件监控集团端所用到的各个组件的运行状况、吞吐量、状态信息等。主要包括各组件的运行时间，`MySQL`的连接数量，执行语句数量（queries、questions），`TDengine`的错误数量、插入数量、查询数量，`EMQX`的主题数，连接数，订阅数，`Redis`的内存占用，输出流量和输入流量

![image-20220829145045478](http://47.105.133.117:9001/typora/20220829145046.png)

### 集群状态

集群监控k8s集群各个节点的基本信息，以及集群节点的健康状况

![image-20220829145235419](http://47.105.133.117:9001/typora/20220829145236.png)

### 边缘侧监控

边缘侧监控从四个维度监测边缘侧的运行和数据采集状况。

#### 边缘侧总览

监控各边缘侧节点的网关在线、离线情况。

![image-20220829145556755](http://47.105.133.117:9001/typora/20220829145557.png)

#### 边缘侧资源

监测边缘侧k8s集群的节点总数量、pod总数量、cpu总核数、内存总量、磁盘总量。

![image-20220829150527605](http://47.105.133.117:9001/typora/20220829150529.png)

#### 边缘侧负载

监测边缘侧服务器的平均cpu负载和内存占用率

![image-20220829150535307](http://47.105.133.117:9001/typora/20220829150535.png)

### 边缘侧采集

监控边缘侧设备数据采集情况（在线设备数量、离线设备数量、设备总数）和监测类数据采集情况（任务总数、成功任务数量、失败任务数量）

![image-20220829150848165](http://47.105.133.117:9001/typora/20220829150848.png)

## 边缘侧

边缘侧监控面板详细监控边缘侧的组件运行和集群服务器状况，以及设备数据、监测数据的采集情况。

![image-20220829151019042](http://47.105.133.117:9001/typora/20220829151019.png)

### 组件监控

监控边缘侧的各个组件的运行状况

* `MySQL`的运行时间、缓冲池大小、连接数量、活动线程数
* `TDengine`的运行时间、错误数量、插入数量、查询数量、读写IO
* `EMQX`的运行时间、连接数、主题数、保留消息数、会话数、订阅数
* `Redis`的运行时间、内存占用、和输出输入流量

![image-20220829152411855](http://47.105.133.117:9001/typora/20220829152412.png)

### 集群监控

监控k8s集群各服务器节点的cpu、内存、磁盘信息以及网络流量的实时变化。

![image-20220829152432885](http://47.105.133.117:9001/typora/20220829152433.png)

### 设备采集监控

监测当前运行网关、网关状态、正常设备数量、异常设备数量和设备总数以及设备联通状态详情。

![image-20220829152635377](http://47.105.133.117:9001/typora/20220829152636.png)

### 监测采集监控

监控监测类数据采集情况，包括任务总数，成功数量，失败数量，以及各任务的最新执行情况。

![image-20220829152753477](http://47.105.133.117:9001/typora/20220829152754.png)